# Section 4. Protocol Buffer Basics II

---

## 20. Solution to Practice Exercise II

### Same File

#### `all-in-one-file.proto`

```proto
syntax = "proto3";

message City {
  string name = 1;
  string zip_code = 2;
  string country_name = 3;
}

message Street {
  string name = 1;
  City city = 2;
}

message Building {
  string building_name = 1;
  int32 building_number = 2;
  Street street = 3;
}
```

### Nested Messages

#### `nested-messages.proto`

```proto
syntax = "proto3";

message Building { // level 0
  string building_name = 1;
  int32 building_number = 2;

  message Street { // level 1
    string name = 1;

    message City { // level 2
      string name = 1;
      string zip_code = 2;
      string country_name = 3;
    }

    City city = 2;
  }

  Street street = 3;
}
```

### Imports

#### `building.proto`

```proto
syntax = "proto3";

// remember to use the full path from the root of the project
import "4-exercises-solutions/3-imports/street.proto";

message Building {
  string building_name = 1;
  int32 building_number = 2;
  Street street = 3;
}
```

#### `city.proto`

```proto
syntax = "proto3";

message City {
  string name = 1;
  string zip_code = 2;
  string country_name = 3;
}
```

#### `street.proto`

```proto
syntax = "proto3";

// remember to use the full path from the root of the project
import "4-exercises-solutions/3-imports/city.proto";

message Street {
  string name = 1;
  City city = 2;
}
```

### Imports with Packages

#### `building.proto`

```proto
syntax = "proto3";

package building;

// remember to use the full path from the root of the project
import "4-exercises-solutions/4-imports-with-packages/street.proto";

message Building {
  string building_name = 1;
  int32 building_number = 2;
  street.Street street = 3;
}
```

#### `city.proto`

```proto
syntax = "proto3";

package city;

message City {
  string name = 1;
  string zip_code = 2;
  string country_name = 3;
}
```

#### `street.proto`

```proto
syntax = "proto3";

// remember to use the full path from the root of the project
import "4-exercises-solutions/4-imports-with-packages/city.proto";

package street;

message Street {
  string name = 1;
  city.City city = 2;
}
```
